# KRX Data Explorer

í•œêµ­ê±°ë˜ì†Œ(KRX) ì£¼ì‹ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ê³  ì‹œê°í™”í•˜ëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.

![Architecture](docs/architecture-diagram.png)

## ğŸ“‹ ì£¼ìš” ê¸°ëŠ¥

### ğŸ” ë°ì´í„° ì¡°íšŒ
- **OHLCV ë°ì´í„°**: ì‹œê°€, ê³ ê°€, ì €ê°€, ì¢…ê°€, ê±°ë˜ëŸ‰
- **ì‹œê°€ì´ì•¡**: ì¢…ëª©ë³„ ì‹œê°€ì´ì•¡ ë° ìƒì¥ì£¼ì‹ìˆ˜
- **ê¸°ë³¸ ì§€í‘œ**: PER, PBR, EPS, DIV, BPS
- **íˆ¬ììë³„ ë§¤ë§¤ë™í–¥**: ê¸°ê´€, ì™¸êµ­ì¸, ê°œì¸ ìˆœë§¤ìˆ˜
- **ì™¸êµ­ì¸ ë³´ìœ í˜„í™©**: ë³´ìœ ëŸ‰, ë³´ìœ ë¹„ìœ¨, í•œë„ì†Œì§„ìœ¨
- **ETF/ETN/ELW**: ê°ì¢… íŒŒìƒìƒí’ˆ ë°ì´í„°

### ğŸ“Š ì‹œê°í™”
- **GraphicWalker**: ë“œë˜ê·¸ ì•¤ ë“œë¡­ ë°©ì‹ì˜ ë¬´ì½”ë“œ ë°ì´í„° ì‹œê°í™”
- **ì¸í„°ë™í‹°ë¸Œ ì°¨íŠ¸**: ë‹¤ì–‘í•œ ì°¨íŠ¸ ìœ í˜• ì§€ì›

![UI Mockup](docs/ui-mockup.png)

### ğŸ’¬ ìì—°ì–´ ì§ˆì˜
- í•œêµ­ì–´ë¡œ ì§ˆë¬¸í•˜ë©´ ì ì ˆí•œ APIë¥¼ ìë™ í˜¸ì¶œ
- ì˜ˆ: "ì‚¼ì„±ì „ì PER ì•Œë ¤ì¤˜", "ì˜¤ëŠ˜ ì™¸êµ­ì¸ ìˆœë§¤ìˆ˜ ì¢…ëª©"

![Data Flow](docs/data-flow-diagram.png)

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Frontend                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  React  â”‚ â”‚  Vite   â”‚ â”‚Tailwind â”‚ â”‚  GraphicWalker      â”‚   â”‚
â”‚  â”‚   +TS   â”‚ â”‚         â”‚ â”‚   CSS   â”‚ â”‚  (ì‹œê°í™”)           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ REST API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Backend                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ FastAPI â”‚ â”‚ Intent          â”‚ â”‚ KRX Session Manager     â”‚   â”‚
â”‚  â”‚         â”‚ â”‚ Classifier      â”‚ â”‚ (Selenium + Cookies)    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    PyKRX (Patched)                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   KRX Data Marketplace                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  OHLCV  â”‚ â”‚ Market  â”‚ â”‚Investor â”‚ â”‚ETF/ETN  â”‚              â”‚
â”‚  â”‚  Data   â”‚ â”‚   Cap   â”‚ â”‚ Trading â”‚ â”‚  /ELW   â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
krx-data-explorer/
â”œâ”€â”€ frontend/                 # React + TypeScript + Vite
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ App.tsx           # ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜
â”‚   â”‚   â”œâ”€â”€ components/ui/    # shadcn/ui ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ pages/            # í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â””â”€â”€ lib/              # ìœ í‹¸ë¦¬í‹°
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.ts
â”‚
â”œâ”€â”€ backend/                  # FastAPI + Python
â”‚   â”œâ”€â”€ main.py               # FastAPI ì•± (2,338ì¤„, 40+ ì—”ë“œí¬ì¸íŠ¸)
â”‚   â”œâ”€â”€ intent_classifier.py  # ìì—°ì–´ ì˜ë„ ë¶„ë¥˜ê¸° (748ì¤„)
â”‚   â”œâ”€â”€ krx_session.py        # KRX ì„¸ì…˜ ê´€ë¦¬ (677ì¤„)
â”‚   â”œâ”€â”€ pykrx_with_login.py   # PyKRX íŒ¨ì¹˜ ëª¨ë“ˆ (148ì¤„)
â”‚   â””â”€â”€ requirements.txt
â”‚
â”œâ”€â”€ docs/                     # ë¬¸ì„œ ë° ë‹¤ì´ì–´ê·¸ë¨
â”‚   â”œâ”€â”€ architecture-diagram.png
â”‚   â”œâ”€â”€ data-flow-diagram.png
â”‚   â””â”€â”€ ui-mockup.png
â”‚
â””â”€â”€ README.md
```

## ğŸš€ ì‹œì‘í•˜ê¸°

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­

- **Node.js** 18+ (í”„ë¡ íŠ¸ì—”ë“œ)
- **Python** 3.10+ (ë°±ì—”ë“œ)
- **Chrome** ë˜ëŠ” **Chromium** (KRX ë¡œê·¸ì¸ìš©)

### ë°±ì—”ë“œ ì„¤ì •

```bash
cd backend

# ê°€ìƒí™˜ê²½ ìƒì„± ë° í™œì„±í™”
python -m venv venv
.\venv\Scripts\activate  # Windows
# source venv/bin/activate  # macOS/Linux

# ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt

# í™˜ê²½ë³€ìˆ˜ ì„¤ì • (.env íŒŒì¼ ìƒì„±)
echo KRX_USER_ID=your_id > .env
echo KRX_PASSWORD=your_password >> .env

# ì„œë²„ ì‹¤í–‰
uvicorn main:app --reload --port 8000
```

### í”„ë¡ íŠ¸ì—”ë“œ ì„¤ì •

```bash
cd frontend

# ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev
```

### ì ‘ì†

- í”„ë¡ íŠ¸ì—”ë“œ: http://localhost:5173
- ë°±ì—”ë“œ API: http://localhost:8000
- API ë¬¸ì„œ (Swagger): http://localhost:8000/docs

## ğŸ“¡ API ì—”ë“œí¬ì¸íŠ¸

### ê¸°ë³¸ ë°ì´í„°

| ì—”ë“œí¬ì¸íŠ¸ | ì„¤ëª… |
|-----------|------|
| `GET /api/ohlcv/{date}` | íŠ¹ì • ì¼ì OHLCV |
| `GET /api/ohlcv/range/{ticker}` | ê¸°ê°„ë³„ OHLCV |
| `GET /api/market-cap/{date}` | ì‹œê°€ì´ì•¡ |
| `GET /api/fundamental/{date}` | PER/PBR/ë°°ë‹¹ìˆ˜ìµë¥  |

### íˆ¬ìì ë™í–¥

| ì—”ë“œí¬ì¸íŠ¸ | ì„¤ëª… |
|-----------|------|
| `GET /api/investor/{date}` | íˆ¬ììë³„ ë§¤ë§¤ë™í–¥ |
| `GET /api/net-purchases/{start}/{end}` | ìˆœë§¤ìˆ˜ ìƒìœ„ ì¢…ëª© |
| `GET /api/foreign-holding/{date}` | ì™¸êµ­ì¸ ë³´ìœ í˜„í™© |

### íŒŒìƒìƒí’ˆ

| ì—”ë“œí¬ì¸íŠ¸ | ì„¤ëª… |
|-----------|------|
| `GET /api/etf/list` | ETF ëª©ë¡ |
| `GET /api/etn/list` | ETN ëª©ë¡ |
| `GET /api/elw/list` | ELW ëª©ë¡ |

### ìì—°ì–´

| ì—”ë“œí¬ì¸íŠ¸ | ì„¤ëª… |
|-----------|------|
| `POST /api/nl/query` | ìì—°ì–´ ì§ˆì˜ ì²˜ë¦¬ |
| `POST /api/intent/classify` | ì˜ë„ ë¶„ë¥˜ |

## ğŸ”§ í™˜ê²½ ë³€ìˆ˜

### ë°±ì—”ë“œ (.env)

```env
# KRX Data Marketplace ë¡œê·¸ì¸ ì •ë³´
KRX_USER_ID=your_id
KRX_PASSWORD=your_password

# ì„ íƒì 
OPENAI_API_KEY=sk-...  # LLM ì˜ë„ ë¶„ë¥˜ìš©
```

## âš ï¸ ì£¼ì˜ì‚¬í•­

### PyKRX Windows ì¸ì½”ë”© ì´ìŠˆ

PyKRXëŠ” Windowsì—ì„œ í•œê¸€ ì¸ì½”ë”© ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤. ì´ í”„ë¡œì íŠ¸ì—ì„œëŠ” ë‹¤ìŒ ë°©ì‹ìœ¼ë¡œ í•´ê²°í•©ë‹ˆë‹¤:

1. **ì¿ í‚¤ ì£¼ì…**: pykrx import ì „ì— KRX ì„¸ì…˜ ì¿ í‚¤ ì£¼ì…
2. **ì§ì ‘ API í˜¸ì¶œ**: ì¸ì½”ë”© ë¬¸ì œê°€ ì‹¬í•œ ê²½ìš° KRX API ì§ì ‘ í˜¸ì¶œ
3. **ì˜ë¬¸ ì»¬ëŸ¼ëª…**: í•œê¸€ ì»¬ëŸ¼ëª… ëŒ€ì‹  ì˜ë¬¸ ì‚¬ìš©

### KRX ë¡œê·¸ì¸

- KRX Data Marketplace ê³„ì •ì´ í•„ìš”í•©ë‹ˆë‹¤
- ì¼ë¶€ ë°ì´í„°ëŠ” ë¡œê·¸ì¸ ì—†ì´ë„ ì¡°íšŒ ê°€ëŠ¥í•©ë‹ˆë‹¤
- ì„¸ì…˜ì€ ìë™ìœ¼ë¡œ ìœ ì§€ë˜ë©° ì¿ í‚¤ê°€ ì €ì¥ë©ë‹ˆë‹¤

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

| êµ¬ë¶„ | ê¸°ìˆ  |
|------|------|
| **Frontend** | React 18, TypeScript, Vite, Tailwind CSS, shadcn/ui, GraphicWalker |
| **Backend** | FastAPI, Python 3.10+, PyKRX, Selenium, Pandas |
| **Database** | KRX Data Marketplace (ì™¸ë¶€ API) |

## ğŸ“„ ë¼ì´ì„ ìŠ¤

MIT License

## ğŸ™ ê°ì‚¬ì˜ ë§

- [PyKRX](https://github.com/sharebook-kr/pykrx) - KRX ë°ì´í„° ìˆ˜ì§‘ ë¼ì´ë¸ŒëŸ¬ë¦¬
- [Graphic Walker](https://github.com/Kanaries/graphic-walker) - ë°ì´í„° ì‹œê°í™”
- [shadcn/ui](https://ui.shadcn.com/) - UI ì»´í¬ë„ŒíŠ¸
